@if (isLoading()) {
<div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
  @for(i of [1,2]; track i) {
  <div
    class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-48 flex flex-col justify-between"
  >
    <div class="flex flex-col gap-3">
      <div class="flex justify-between">
        <p-skeleton width="60%" height="1.5rem"></p-skeleton>
        <p-skeleton width="20%" height="1.5rem"></p-skeleton>
      </div>
      <p-skeleton width="100%" height="3rem"></p-skeleton>
    </div>
    <div class="flex gap-2 mt-4">
      <p-skeleton width="4rem" height="1.2rem"></p-skeleton>
      <p-skeleton width="4rem" height="1.2rem"></p-skeleton>
    </div>
  </div>
  }
</div>
} @else if (error()) {
<div
  class="flex flex-col items-center justify-center py-12 text-center bg-red-50 rounded-2xl border border-red-100"
>
  <i class="pi pi-exclamation-circle text-4xl text-red-400 mb-2"></i>
  <h3 class="text-red-700 font-bold mb-1">حدث خطأ</h3>
  <p class="text-red-500 text-sm mb-4">{{ error() }}</p>
  <p-button
    label="إعادة المحاولة"
    icon="pi pi-refresh"
    [text]="true"
    severity="danger"
    (onClick)="fetchData()"
  >
  </p-button>
</div>
} @else { @if (myRequests().length > 0) {
<div class="grid grid-cols-1 lg:grid-cols-2 gap-4 animate-fadein">
  @for (req of myRequests(); track req.id) {
  <app-request-card
    [request]="req"
    [showStatus]="true"
    [showCategory]="true"
    [showDescription]="true"
  >
  </app-request-card>
  }
</div>
} @else {
<div
  class="flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-slate-200 rounded-2xl bg-slate-50/50 min-h-[300px]"
>
  <div
    class="w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 text-slate-300 shadow-sm"
  >
    <i class="pi pi-inbox text-3xl"></i>
  </div>

  <h3 class="text-slate-700 font-bold text-lg font-ibmArabic mb-1">
    لا توجد مساهمات حتى الآن
  </h3>

  <p class="text-slate-400 text-sm max-w-xs font-ibmArabic mb-6">
    لم يتم إضافة أي طلبات أو مقترحات في هذه القائمة بعد.
  </p>

  <p-button
    label="تصفح كل الطلبات"
    icon="pi pi-search"
    [rounded]="true"
    severity="secondary"
    [routerLink]="['/requests']"
    styleClass="font-ibmArabic font-bold px-6"
  >
  </p-button>
</div>
} }
